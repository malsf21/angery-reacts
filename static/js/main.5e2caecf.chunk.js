(this["webpackJsonpangery-reacts"]=this["webpackJsonpangery-reacts"]||[]).push([[0],{170:function(e,t){},184:function(e,t){},219:function(e,t){},228:function(e,t,s){var n={"./en/index":84};function r(e){var t=a(e);return s(t)}function a(e){if(!s.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}r.keys=function(){return Object.keys(n)},r.resolve=a,e.exports=r,r.id=228},229:function(e,t,s){"use strict";s.r(t);var n=s(0),r=s(1),a=s(85),i=s.n(a),c=(s(95),s(15)),o=s(16),l=s(29),h=s(18),j=s(17),d=(s(96),s(31)),b=s.n(d),u=s(26),g=s.n(u),p=s(86),O=s.n(p),x=s(11),m=s.n(x),f=s(48),y=s.n(f),v=s(87),S=s.n(v),w=s(9),k=s.n(w),C=s(14),I=s.n(C),N=s(12),L=s(22),P=s.n(L),T=s(49),_=s.n(T),A=function(e){Object(h.a)(s,e);var t=Object(j.a)(s);function s(e){var r;return Object(c.a)(this,s),(r=t.call(this,e)).handleArtistChange=function(e){r.setState({artist:e.target.value})},r.handleTitleChange=function(e){r.setState({title:e.target.value})},r.handlePlaylistChange=function(e){r.setState({playlist:e.target.value})},r.handleSongSubmit=function(){r.props.handleSongSubmit(r.state.title,r.state.artist)},r.handlePlaylistSubmit=function(){r.props.handlePlaylistSubmit(r.state.playlist)},r.renderSongSubmitButton=function(){return r.props.loading?Object(n.jsx)(_.a,{}):Object(n.jsx)(P.a,{color:"success",onClick:r.handleSongSubmit,children:"search"})},r.renderPlaylistSubmitButton=function(){return r.props.loading?Object(n.jsx)(_.a,{}):Object(n.jsx)(P.a,{color:"success",onClick:r.handlePlaylistSubmit,children:"search"})},r.state={artist:"",title:"",playlist:""},r}return Object(o.a)(s,[{key:"render",value:function(){return Object(n.jsxs)(I.a,{children:[Object(n.jsxs)(I.a.Side,{align:"left",children:[Object(n.jsx)(I.a.Item,{children:Object(n.jsx)(N.Field,{children:Object(n.jsx)(N.Control,{children:Object(n.jsx)(N.Input,{placeholder:"song title",value:this.state.title,onChange:this.handleTitleChange})})})}),Object(n.jsx)(I.a.Item,{children:Object(n.jsx)(N.Field,{children:Object(n.jsx)(N.Control,{children:Object(n.jsx)(N.Input,{placeholder:"artist name",value:this.state.artist,onChange:this.handleArtistChange})})})}),Object(n.jsx)(I.a.Item,{children:this.renderSongSubmitButton()})]}),Object(n.jsxs)(I.a.Side,{align:"right",children:[Object(n.jsx)(I.a.Item,{children:Object(n.jsx)(N.Field,{children:Object(n.jsx)(N.Control,{children:Object(n.jsx)(N.Input,{placeholder:"spotify playlist id",value:this.state.playlist,onChange:this.handlePlaylistChange})})})}),Object(n.jsx)(I.a.Item,{children:this.renderPlaylistSubmitButton()})]})]})}}]),s}(r.Component),B=s(30),E=s.n(B),F=s(89),J=s.n(F),U=s(32),W=s.n(U),$=s(88),q=s.n($),z=s(33),D=s.n(z),G=function(e){Object(h.a)(s,e);var t=Object(j.a)(s);function s(e){var n;return Object(c.a)(this,s),(n=t.call(this,e)).createTaggedLyrics=function(){for(var e=J()(n.props.songInfo.lyrics),t=(e=(e=e.replace(/^\s+|\s+$/g,"")).split("\n").join(" <br /> ")).split(" "),s="",r=0;r<t.length;r++)n.props.songInfo.sentiment.positive.includes(t[r].toLowerCase())?s+="<span class='has-text-weight-bold has-text-success'>"+t[r]+"</span>":n.props.songInfo.sentiment.negative.includes(t[r].toLowerCase())?s+="<span class='has-text-weight-bold has-text-danger'>"+t[r]+"</span>":s+=t[r],s+=" ";return{__html:s}},n.state={showLyrics:!1,showAnalysis:!1},n}return Object(o.a)(s,[{key:"render",value:function(){var e=this;return Object(n.jsx)(E.a,{children:Object(n.jsxs)(D.a,{children:[Object(n.jsx)(D.a.Item,{position:"left",children:Object(n.jsx)(q.a,{size:128,alt:"album cover!",src:this.props.songInfo.img_url})}),Object(n.jsxs)(D.a.Item,{children:[Object(n.jsxs)(g.a,{children:[Object(n.jsxs)(m.a,{children:[this.props.songInfo.title," ",Object(n.jsxs)("span",{className:"has-text-weight-normal",children:["by ",this.props.songInfo.artist]})]}),Object(n.jsxs)(k.a.Group,{children:[0===this.props.songInfo.sentiment.score?Object(n.jsx)(k.a,{className:"is-large",children:"neutral vibes"}):this.props.songInfo.sentiment.score>0?Object(n.jsx)(k.a,{color:"success",children:"good vibes"}):Object(n.jsx)(k.a,{color:"danger",children:"angery/sad reacts"}),Object(n.jsxs)(k.a,{children:[Object(n.jsx)("span",{children:"comparative:"}),Object(n.jsx)("strong",{children:this.props.songInfo.sentiment.comparative.toFixed(4)})]}),Object(n.jsxs)(k.a,{children:[Object(n.jsx)("span",{children:"raw score:"}),Object(n.jsx)("strong",{children:this.props.songInfo.sentiment.score})]})]})]}),Object(n.jsx)(P.a,{onClick:function(){return e.setState({showLyrics:!e.state.showLyrics})},children:"show lyrics"})," ",Object(n.jsx)(P.a,{onClick:function(){return e.setState({showAnalysis:!e.state.showAnalysis})},children:"show analysis"}),Object(n.jsx)(g.a,{children:Object(n.jsxs)(W.a,{children:[this.state.showLyrics&&Object(n.jsxs)(W.a.Column,{className:"display-linebreak",children:[Object(n.jsx)("hr",{}),Object(n.jsx)(m.a,{subtitle:!0,children:"Lyrics"}),Object(n.jsx)("div",{children:this.props.songInfo.lyrics.replace(/^\s+|\s+$/g,"")})]}),this.state.showAnalysis&&Object(n.jsxs)(W.a.Column,{children:[Object(n.jsx)("hr",{}),Object(n.jsx)(m.a,{subtitle:!0,children:"Analysis"}),Object(n.jsx)("div",{dangerouslySetInnerHTML:this.createTaggedLyrics()})]})]})})]})]})})}}]),s}(r.Component),M=function(e){Object(h.a)(s,e);var t=Object(j.a)(s);function s(){return Object(c.a)(this,s),t.apply(this,arguments)}return Object(o.a)(s,[{key:"render",value:function(){return 0===this.props.songs.length?Object(n.jsx)(m.a,{className:"has-text-centered",style:{marginTop:"1em",marginBottom:"1em"},children:"it's empty. why not search something?"}):Object(n.jsx)("div",{children:this.props.songs.map((function(e,t){return"error"in e?Object(n.jsx)(E.a,{children:"Couldn't find song :("}):Object(n.jsx)(G,{songInfo:e},t)}))})}}]),s}(r.Component),R=new(s(221)),H=function(e){Object(h.a)(s,e);var t=Object(j.a)(s);function s(e){var n;return Object(c.a)(this,s),(n=t.call(this,e)).addSong=function(e){var t=R.analyze(e.lyrics.toLowerCase());e.sentiment=t;var s=n.state.songs;s.unshift(e),n.setState({songs:s,error:"",score:n.state.score+t.score,tokens:n.state.tokens+t.tokens.length})},n.handlePlaylistSubmit=function(e){n.setState({loading:!0});var t={playlist:e},s="https://angery-reacts-api.herokuapp.com/playlist";void 0!==s&&null!==s||(console.log("Error: couldn't get server URL. Will default to matt's instance."),s="https://angery-reacts-api.herokuapp.com/playlist"),fetch(s,{method:"POST",body:JSON.stringify(t),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){"error"in e?n.setState({error:e.error}):e.songs.forEach(function(e){this.addSong(e)}.bind(Object(l.a)(n))),n.setState({loading:!1})})).catch((function(e){console.error("Error:",e),n.setState({error:"error making request!"}),n.setState({loading:!1})}))},n.handleSongSubmit=function(e,t){n.setState({loading:!0});var s={title:e,artist:t},r="https://angery-reacts-api.herokuapp.com/lyrics";void 0!==r&&null!==r||(console.log("Error: couldn't get server URL. Will default to matt's instance."),r="https://angery-reacts-api.herokuapp.com/lyrics"),fetch(r,{method:"POST",body:JSON.stringify(s),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){"song not found!"!==e.error?n.addSong(e):n.setState({error:"song not found, check your spelling!"}),n.setState({loading:!1})})).catch((function(e){console.error("Error:",e),n.setState({error:"error making request!"}),n.setState({loading:!1})}))},n.state={loading:!1,error:"",songs:[],score:0,tokens:0},n}return Object(o.a)(s,[{key:"render",value:function(){var e=this;return Object(n.jsxs)("div",{className:"App",children:[Object(n.jsx)(y.a,{color:"info",children:Object(n.jsx)(y.a.Body,{children:Object(n.jsxs)(b.a,{children:[Object(n.jsxs)(m.a,{children:[Object(n.jsx)("span",{role:"img","aria-label":"angry react!",children:"\ud83d\ude21"})," angery reacts"]}),Object(n.jsx)(m.a,{subtitle:!0,children:"figure out how positive/negative your music library is"})]})})}),Object(n.jsx)(S.a,{children:Object(n.jsxs)(b.a,{children:[Object(n.jsx)(A,{loading:this.state.loading,handleSongSubmit:function(t,s){return e.handleSongSubmit(t,s)},handlePlaylistSubmit:function(t){return e.handlePlaylistSubmit(t)}}),Object(n.jsx)(m.a,{subtitle:!0,className:"has-text-danger",children:this.state.error}),Object(n.jsx)("hr",{}),Object(n.jsxs)(k.a.Group,{children:[0===this.state.score?Object(n.jsx)(k.a,{className:"is-large",children:"neutral vibes"}):this.state.score>0?Object(n.jsx)(k.a,{className:"is-large",color:"success",children:"good vibes"}):Object(n.jsx)(k.a,{className:"is-large",color:"danger",children:"angery/sad reacts"}),Object(n.jsxs)(k.a,{className:"is-large",children:[Object(n.jsx)("span",{children:"comparative:"}),Object(n.jsx)("strong",{children:0===this.state.tokens?0:(this.state.score/this.state.tokens).toFixed(4)})]}),Object(n.jsxs)(k.a,{className:"is-large",children:[Object(n.jsx)("span",{children:"raw score:"}),Object(n.jsx)("strong",{children:this.state.score})]})]}),Object(n.jsx)("hr",{}),Object(n.jsxs)("p",{children:[Object(n.jsx)("b",{children:"raw score"}),": a sum of all the weights of the words in a song (positive weight == positive feeling)",Object(n.jsx)("br",{}),Object(n.jsx)("b",{children:"comparative"}),": raw score divided by total number of words in song, ranges from -5.0 to 5.0"]}),Object(n.jsx)("hr",{}),Object(n.jsx)(M,{songs:this.state.songs})]})}),Object(n.jsx)(O.a,{children:Object(n.jsx)(b.a,{children:Object(n.jsxs)(g.a,{className:"has-text-centered",children:[Object(n.jsxs)("p",{children:["built by ",Object(n.jsx)("a",{href:"https://matthewwang.me",target:"_blank",rel:"noopener noreferrer",children:"matt wang!"})," check it out on ",Object(n.jsx)("a",{href:"https://github.com/malsf21/angery-reacts",target:"_blank",rel:"noopener noreferrer",children:"github!"})]}),Object(n.jsxs)("p",{children:["uses ",Object(n.jsx)("a",{href:"https://reactjs.org",target:"_blank",rel:"noopener noreferrer",children:"react"}),", ",Object(n.jsx)("a",{href:"https://bulma.io/",target:"_blank",rel:"noopener noreferrer",children:"bulma"}),", ",Object(n.jsx)("a",{href:"https://www.npmjs.com/package/sentiment",target:"_blank",rel:"noopener noreferrer",children:"sentiment"}),", and the ",Object(n.jsx)("a",{href:"https://docs.genius.com/",target:"_blank",rel:"noopener noreferrer",children:"genius api"})]})]})})})]})}}]),s}(r.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(Object(n.jsx)(H,{}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},65:function(e,t){},95:function(e,t,s){},96:function(e,t,s){}},[[229,1,2]]]);
//# sourceMappingURL=main.5e2caecf.chunk.js.map