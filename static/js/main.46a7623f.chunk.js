(this["webpackJsonpangery-reacts"]=this["webpackJsonpangery-reacts"]||[]).push([[0],{142:function(e,t){},160:function(e,t){},161:function(e,t){},162:function(e,t){},177:function(e,t){},202:function(e,t,a){var n={"./en/index":64};function r(e){var t=l(e);return a(t)}function l(e){if(!a.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}r.keys=function(){return Object.keys(n)},r.resolve=l,e.exports=r,r.id=202},203:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(65),s=a.n(l),o=(a(75),a(11)),i=a(12),c=a(15),u=a(13),m=a(24),h=a(14),g=(a(76),a(26)),p=a.n(g),d=a(20),E=a.n(d),f=a(66),y=a.n(f),b=a(8),v=a.n(b),S=a(41),w=a.n(S),k=a(67),j=a.n(k),O=a(6),C=a.n(O),I=a(10),N=a.n(I),x=a(9),P=a(18),L=a.n(P),T=a(42),_=a.n(T),A=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).handleArtistChange=function(e){a.setState({artist:e.target.value})},a.handleTitleChange=function(e){a.setState({title:e.target.value})},a.handlePlaylistChange=function(e){a.setState({playlist:e.target.value})},a.handleSongSubmit=function(){a.props.handleSongSubmit(a.state.title,a.state.artist)},a.handlePlaylistSubmit=function(){a.props.handlePlaylistSubmit(a.state.playlist)},a.renderSongSubmitButton=function(){return a.props.loading?r.a.createElement(_.a,null):r.a.createElement(L.a,{color:"success",onClick:a.handleSongSubmit},"search")},a.renderPlaylistSubmitButton=function(){return a.props.loading?r.a.createElement(_.a,null):r.a.createElement(L.a,{color:"success",onClick:a.handlePlaylistSubmit},"search")},a.state={artist:"",title:"",playlist:""},a}return Object(h.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement(N.a,null,r.a.createElement(N.a.Side,{align:"left"},r.a.createElement(N.a.Item,null,r.a.createElement(x.Field,null,r.a.createElement(x.Control,null,r.a.createElement(x.Input,{placeholder:"song title",value:this.state.title,onChange:this.handleTitleChange})))),r.a.createElement(N.a.Item,null,r.a.createElement(x.Field,null,r.a.createElement(x.Control,null,r.a.createElement(x.Input,{placeholder:"artist name",value:this.state.artist,onChange:this.handleArtistChange})))),r.a.createElement(N.a.Item,null,this.renderSongSubmitButton())),r.a.createElement(N.a.Side,{align:"right"},r.a.createElement(N.a.Item,null,r.a.createElement(x.Field,null,r.a.createElement(x.Control,null,r.a.createElement(x.Input,{placeholder:"spotify playlist id",value:this.state.playlist,onChange:this.handlePlaylistChange})))),r.a.createElement(N.a.Item,null,this.renderPlaylistSubmitButton())))}}]),t}(n.Component),B=a(25),F=a.n(B),J=a(68),U=a.n(J),W=a(27),$=a.n(W),q=a(69),z=a.n(q),D=a(28),G=a.n(D),M=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).createTaggedLyrics=function(){for(var e=U()(a.props.songInfo.lyrics),t=(e=(e=e.replace(/^\s+|\s+$/g,"")).split("\n").join(" <br /> ")).split(" "),n="",r=0;r<t.length;r++)a.props.songInfo.sentiment.positive.includes(t[r])?n+="<span class='has-text-weight-bold has-text-success'>"+t[r]+"</span>":a.props.songInfo.sentiment.negative.includes(t[r])?n+="<span class='has-text-weight-bold has-text-danger'>"+t[r]+"</span>":n+=t[r],n+=" ";return{__html:n}},a.state={showLyrics:!1,showAnalysis:!1},a}return Object(h.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(F.a,null,r.a.createElement(G.a,null,r.a.createElement(G.a.Item,{position:"left"},r.a.createElement(z.a,{size:128,alt:"album cover!",src:this.props.songInfo.img_url})),r.a.createElement(G.a.Item,null,r.a.createElement(E.a,null,r.a.createElement(v.a,null,this.props.songInfo.title," ",r.a.createElement("span",{className:"has-text-weight-normal"},"by ",this.props.songInfo.artist)),r.a.createElement(C.a.Group,null,0===this.props.songInfo.sentiment.score?r.a.createElement(C.a,{className:"is-large"},"neutral vibes"):this.props.songInfo.sentiment.score>0?r.a.createElement(C.a,{color:"success"},"good vibes"):r.a.createElement(C.a,{color:"danger"},"angery/sad reacts"),r.a.createElement(C.a,null,r.a.createElement("span",null,"comparative:"),r.a.createElement("strong",null,this.props.songInfo.sentiment.comparative.toFixed(4))),r.a.createElement(C.a,null,r.a.createElement("span",null,"raw score:"),r.a.createElement("strong",null,this.props.songInfo.sentiment.score)))),r.a.createElement(L.a,{onClick:function(){return e.setState({showLyrics:!e.state.showLyrics})}},"show lyrics")," ",r.a.createElement(L.a,{onClick:function(){return e.setState({showAnalysis:!e.state.showAnalysis})}},"show analysis"),r.a.createElement(E.a,null,r.a.createElement($.a,null,this.state.showLyrics&&r.a.createElement($.a.Column,{className:"display-linebreak"},r.a.createElement("hr",null),r.a.createElement(v.a,{subtitle:!0},"Lyrics"),r.a.createElement("div",null,this.props.songInfo.lyrics.replace(/^\s+|\s+$/g,""))),this.state.showAnalysis&&r.a.createElement($.a.Column,null,r.a.createElement("hr",null),r.a.createElement(v.a,{subtitle:!0},"Analysis"),r.a.createElement("div",{dangerouslySetInnerHTML:this.createTaggedLyrics()})))))))}}]),t}(n.Component),R=function(e){function t(){return Object(o.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return 0===this.props.songs.length?r.a.createElement(v.a,{className:"has-text-centered",style:{marginTop:"1em",marginBottom:"1em"}},"it's empty. why not search something?"):r.a.createElement("div",null,this.props.songs.map((function(e,t){return"error"in e?r.a.createElement(F.a,null,"Couldn't find song :("):r.a.createElement(M,{songInfo:e,key:t})})))}}]),t}(n.Component),H=new(a(195)),K=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).addSong=function(e){var t=H.analyze(e.lyrics);e.sentiment=t;var n=a.state.songs;n.unshift(e),a.setState({songs:n,error:"",score:a.state.score+t.score,tokens:a.state.tokens+t.tokens.length})},a.handlePlaylistSubmit=function(e){a.setState({loading:!0});var t={playlist:e},n="https://angery-reacts-api.herokuapp.com/playlist";void 0!==n&&null!==n||(console.log("Error: couldn't get server URL. Will default to matt's instance."),n="https://angery-reacts-api.herokuapp.com/playlist"),fetch(n,{method:"POST",body:JSON.stringify(t),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){"error"in e?a.setState({error:e.error}):e.songs.forEach(function(e){this.addSong(e)}.bind(Object(m.a)(a))),a.setState({loading:!1})})).catch((function(e){console.error("Error:",e),a.setState({error:"error making request!"}),a.setState({loading:!1})}))},a.handleSongSubmit=function(e,t){a.setState({loading:!0});var n={title:e,artist:t},r="https://angery-reacts-api.herokuapp.com/lyrics";void 0!==r&&null!==r||(console.log("Error: couldn't get server URL. Will default to matt's instance."),r="https://angery-reacts-api.herokuapp.com/lyrics"),fetch(r,{method:"POST",body:JSON.stringify(n),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){"song not found!"!==e.error?a.addSong(e):a.setState({error:"song not found, check your spelling!"}),a.setState({loading:!1})})).catch((function(e){console.error("Error:",e),a.setState({error:"error making request!"}),a.setState({loading:!1})}))},a.state={loading:!1,error:"",songs:[],score:0,tokens:0},a}return Object(h.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"App"},r.a.createElement(w.a,{color:"info"},r.a.createElement(w.a.Body,null,r.a.createElement(p.a,null,r.a.createElement(v.a,null,r.a.createElement("span",{role:"img","aria-label":"angry react!"},"\ud83d\ude21")," angery reacts"),r.a.createElement(v.a,{subtitle:!0},"figure out how positive/negative your music library is")))),r.a.createElement(j.a,null,r.a.createElement(p.a,null,r.a.createElement(A,{loading:this.state.loading,handleSongSubmit:function(t,a){return e.handleSongSubmit(t,a)},handlePlaylistSubmit:function(t){return e.handlePlaylistSubmit(t)}}),r.a.createElement(v.a,{subtitle:!0,className:"has-text-danger"},this.state.error),r.a.createElement("hr",null),r.a.createElement(C.a.Group,null,0===this.state.score?r.a.createElement(C.a,{className:"is-large"},"neutral vibes"):this.state.score>0?r.a.createElement(C.a,{className:"is-large",color:"success"},"good vibes"):r.a.createElement(C.a,{className:"is-large",color:"danger"},"angery/sad reacts"),r.a.createElement(C.a,{className:"is-large"},r.a.createElement("span",null,"comparative:"),r.a.createElement("strong",null,0===this.state.tokens?0:(this.state.score/this.state.tokens).toFixed(4))),r.a.createElement(C.a,{className:"is-large"},r.a.createElement("span",null,"raw score:"),r.a.createElement("strong",null,this.state.score))),r.a.createElement("hr",null),r.a.createElement("p",null,r.a.createElement("b",null,"raw score"),": a sum of all the weights of the words in a song (positive weight == positive feeling)",r.a.createElement("br",null),r.a.createElement("b",null,"comparative"),": raw score divided by total number of words in song, ranges from -5.0 to 5.0"),r.a.createElement("hr",null),r.a.createElement(R,{songs:this.state.songs}))),r.a.createElement(y.a,null,r.a.createElement(p.a,null,r.a.createElement(E.a,{className:"has-text-centered"},r.a.createElement("p",null,"built by ",r.a.createElement("a",{href:"https://matthewwang.me",target:"_blank",rel:"noopener noreferrer"},"matt wang!")," check it out on ",r.a.createElement("a",{href:"https://github.com/malsf21/angery-reacts",target:"_blank",rel:"noopener noreferrer"},"github!")),r.a.createElement("p",null,"uses ",r.a.createElement("a",{href:"https://reactjs.org",target:"_blank",rel:"noopener noreferrer"},"react"),", ",r.a.createElement("a",{href:"https://bulma.io/",target:"_blank",rel:"noopener noreferrer"},"bulma"),", ",r.a.createElement("a",{href:"https://www.npmjs.com/package/sentiment",target:"_blank",rel:"noopener noreferrer"},"sentiment"),", and the ",r.a.createElement("a",{href:"https://docs.genius.com/",target:"_blank",rel:"noopener noreferrer"},"genius api"))))))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(K,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},70:function(e,t,a){e.exports=a(203)},75:function(e,t,a){},76:function(e,t,a){}},[[70,1,2]]]);
//# sourceMappingURL=main.46a7623f.chunk.js.map