(this["webpackJsonpangery-reacts"]=this["webpackJsonpangery-reacts"]||[]).push([[0],{170:function(e,t){},184:function(e,t){},219:function(e,t){},228:function(e,t,n){var s={"./en/index":84};function r(e){var t=a(e);return n(t)}function a(e){if(!n.o(s,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return s[e]}r.keys=function(){return Object.keys(s)},r.resolve=a,e.exports=r,r.id=228},229:function(e,t,n){"use strict";n.r(t);var s=n(0),r=n(1),a=n(85),i=n.n(a),c=(n(95),n(15)),o=n(16),l=n(29),h=n(18),j=n(17),d=(n(96),n(31)),b=n.n(d),u=n(26),g=n.n(u),p=n(86),O=n.n(p),x=n(11),m=n.n(x),f=n(48),y=n.n(f),v=n(87),S=n.n(v),w=n(9),k=n.n(w),C=n(14),I=n.n(C),N=n(12),L=n(22),P=n.n(L),T=n(49),_=n.n(T),A=function(e){Object(h.a)(n,e);var t=Object(j.a)(n);function n(e){var r;return Object(c.a)(this,n),(r=t.call(this,e)).handleArtistChange=function(e){r.setState({artist:e.target.value})},r.handleTitleChange=function(e){r.setState({title:e.target.value})},r.handlePlaylistChange=function(e){r.setState({playlist:e.target.value})},r.handleSongSubmit=function(){r.props.handleSongSubmit(r.state.title,r.state.artist)},r.handlePlaylistSubmit=function(){r.props.handlePlaylistSubmit(r.state.playlist)},r.renderSongSubmitButton=function(){return r.props.loading?Object(s.jsx)(_.a,{}):Object(s.jsx)(P.a,{color:"success",onClick:r.handleSongSubmit,children:"search"})},r.renderPlaylistSubmitButton=function(){return r.props.loading?Object(s.jsx)(_.a,{}):Object(s.jsx)(P.a,{color:"success",onClick:r.handlePlaylistSubmit,children:"search"})},r.state={artist:"",title:"",playlist:""},r}return Object(o.a)(n,[{key:"render",value:function(){return Object(s.jsxs)(I.a,{children:[Object(s.jsxs)(I.a.Side,{align:"left",children:[Object(s.jsx)(I.a.Item,{children:Object(s.jsx)(N.Field,{children:Object(s.jsx)(N.Control,{children:Object(s.jsx)(N.Input,{placeholder:"song title",value:this.state.title,onChange:this.handleTitleChange})})})}),Object(s.jsx)(I.a.Item,{children:Object(s.jsx)(N.Field,{children:Object(s.jsx)(N.Control,{children:Object(s.jsx)(N.Input,{placeholder:"artist name",value:this.state.artist,onChange:this.handleArtistChange})})})}),Object(s.jsx)(I.a.Item,{children:this.renderSongSubmitButton()})]}),Object(s.jsxs)(I.a.Side,{align:"right",children:[Object(s.jsx)(I.a.Item,{children:Object(s.jsx)(N.Field,{children:Object(s.jsx)(N.Control,{children:Object(s.jsx)(N.Input,{placeholder:"spotify playlist id",value:this.state.playlist,onChange:this.handlePlaylistChange})})})}),Object(s.jsx)(I.a.Item,{children:this.renderPlaylistSubmitButton()})]})]})}}]),n}(r.Component),B=n(30),E=n.n(B),F=n(89),J=n.n(F),U=n(32),W=n.n(U),$=n(88),q=n.n($),z=n(33),D=n.n(z),G=function(e){Object(h.a)(n,e);var t=Object(j.a)(n);function n(e){var s;return Object(c.a)(this,n),(s=t.call(this,e)).createTaggedLyrics=function(){for(var e=J()(s.props.songInfo.lyrics),t=(e=(e=e.replace(/^\s+|\s+$/g,"")).split("\n").join(" <br /> ")).split(" "),n="",r=0;r<t.length;r++)s.props.songInfo.sentiment.positive.includes(t[r].toLowerCase())?n+="<span class='has-text-weight-bold has-text-success'>"+t[r]+"</span>":s.props.songInfo.sentiment.negative.includes(t[r].toLowerCase())?n+="<span class='has-text-weight-bold has-text-danger'>"+t[r]+"</span>":n+=t[r],n+=" ";return{__html:n}},s.state={showLyrics:!1,showAnalysis:!1},s}return Object(o.a)(n,[{key:"render",value:function(){var e=this;return Object(s.jsx)(E.a,{children:Object(s.jsxs)(D.a,{children:[Object(s.jsx)(D.a.Item,{position:"left",children:Object(s.jsx)(q.a,{size:128,alt:"album cover!",src:this.props.songInfo.img_url})}),Object(s.jsxs)(D.a.Item,{children:[Object(s.jsxs)(g.a,{children:[Object(s.jsxs)(m.a,{children:[this.props.songInfo.title," ",Object(s.jsxs)("span",{className:"has-text-weight-normal",children:["by ",this.props.songInfo.artist]})]}),Object(s.jsxs)(k.a.Group,{children:[0===this.props.songInfo.sentiment.score?Object(s.jsx)(k.a,{className:"is-large",children:"neutral vibes"}):this.props.songInfo.sentiment.score>0?Object(s.jsx)(k.a,{color:"success",children:"good vibes"}):Object(s.jsx)(k.a,{color:"danger",children:"angery/sad reacts"}),Object(s.jsxs)(k.a,{children:[Object(s.jsx)("span",{children:"comparative:"}),Object(s.jsx)("strong",{children:this.props.songInfo.sentiment.comparative.toFixed(4)})]}),Object(s.jsxs)(k.a,{children:[Object(s.jsx)("span",{children:"raw score:"}),Object(s.jsx)("strong",{children:this.props.songInfo.sentiment.score})]})]})]}),Object(s.jsx)(P.a,{onClick:function(){return e.setState({showLyrics:!e.state.showLyrics})},children:"show lyrics"})," ",Object(s.jsx)(P.a,{onClick:function(){return e.setState({showAnalysis:!e.state.showAnalysis})},children:"show analysis"}),Object(s.jsx)(g.a,{children:Object(s.jsxs)(W.a,{children:[this.state.showLyrics&&Object(s.jsxs)(W.a.Column,{className:"display-linebreak",children:[Object(s.jsx)("hr",{}),Object(s.jsx)(m.a,{subtitle:!0,children:"Lyrics"}),Object(s.jsx)("div",{children:this.props.songInfo.lyrics.replace(/^\s+|\s+$/g,"")})]}),this.state.showAnalysis&&Object(s.jsxs)(W.a.Column,{children:[Object(s.jsx)("hr",{}),Object(s.jsx)(m.a,{subtitle:!0,children:"Analysis"}),Object(s.jsx)("div",{dangerouslySetInnerHTML:this.createTaggedLyrics()})]})]})})]})]})})}}]),n}(r.Component),M=function(e){Object(h.a)(n,e);var t=Object(j.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){return 0===this.props.songs.length?Object(s.jsx)(m.a,{className:"has-text-centered",style:{marginTop:"1em",marginBottom:"1em"},children:"it's empty. why not search something?"}):Object(s.jsx)("div",{children:this.props.songs.map((function(e,t){return"error"in e?Object(s.jsx)(E.a,{children:"Couldn't find song :("}):Object(s.jsx)(G,{songInfo:e},t)}))})}}]),n}(r.Component),R=new(n(221)),H=function(e){Object(h.a)(n,e);var t=Object(j.a)(n);function n(e){var s;return Object(c.a)(this,n),(s=t.call(this,e)).addSong=function(e){var t=R.analyze(e.lyrics.toLowerCase());e.sentiment=t;var n=s.state.songs;n.unshift(e),s.setState({songs:n,error:"",score:s.state.score+t.score,tokens:s.state.tokens+t.tokens.length})},s.handlePlaylistSubmit=function(e){s.setState({loading:!0});var t={playlist:e},n="https://angery-reacts-api.herokuapp.com/playlist";void 0!==n&&null!==n||(console.log("Error: couldn't get server URL. Will default to matt's instance."),n="https://angery-reacts-api.herokuapp.com/playlist"),fetch(n,{method:"POST",body:JSON.stringify(t),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){"error"in e?s.setState({error:e.error}):e.songs.forEach(function(e){this.addSong(e)}.bind(Object(l.a)(s))),s.setState({loading:!1})})).catch((function(e){console.error("Error:",e),s.setState({error:"error making request!"}),s.setState({loading:!1})}))},s.handleSongSubmit=function(e,t){s.setState({loading:!0});var n={title:e,artist:t},r="https://angery-reacts-api.herokuapp.com/lyrics";void 0!==r&&null!==r||(console.log("Error: couldn't get server URL. Will default to matt's instance."),r="https://angery-reacts-api.herokuapp.com/lyrics"),fetch(r,{method:"POST",body:JSON.stringify(n),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){"song not found!"!==e.error?s.addSong(e):s.setState({error:"song not found, check your spelling!"}),s.setState({loading:!1})})).catch((function(e){console.error("Error:",e),s.setState({error:"error making request!"}),s.setState({loading:!1})}))},s.state={loading:!1,error:"",songs:[],score:0,tokens:0},s}return Object(o.a)(n,[{key:"render",value:function(){var e=this;return Object(s.jsxs)("div",{className:"App",children:[Object(s.jsx)(y.a,{color:"info",children:Object(s.jsx)(y.a.Body,{children:Object(s.jsxs)(b.a,{children:[Object(s.jsxs)(m.a,{children:[Object(s.jsx)("span",{role:"img","aria-label":"angry react!",children:"\ud83d\ude21"})," angery reacts"]}),Object(s.jsx)(m.a,{subtitle:!0,children:"figure out how positive/negative your music library is"})]})})}),Object(s.jsx)(S.a,{children:Object(s.jsxs)(b.a,{children:[Object(s.jsx)(A,{loading:this.state.loading,handleSongSubmit:function(t,n){return e.handleSongSubmit(t,n)},handlePlaylistSubmit:function(t){return e.handlePlaylistSubmit(t)}}),Object(s.jsx)(m.a,{subtitle:!0,className:"has-text-danger",children:this.state.error}),Object(s.jsx)("hr",{}),Object(s.jsxs)(k.a.Group,{children:[0===this.state.score?Object(s.jsx)(k.a,{className:"is-large",children:"neutral vibes"}):this.state.score>0?Object(s.jsx)(k.a,{className:"is-large",color:"success",children:"good vibes"}):Object(s.jsx)(k.a,{className:"is-large",color:"danger",children:"angery/sad reacts"}),Object(s.jsxs)(k.a,{className:"is-large",children:[Object(s.jsx)("span",{children:"comparative:"}),Object(s.jsx)("strong",{children:0===this.state.tokens?0:(this.state.score/this.state.tokens).toFixed(4)})]}),Object(s.jsxs)(k.a,{className:"is-large",children:[Object(s.jsx)("span",{children:"raw score:"}),Object(s.jsx)("strong",{children:this.state.score})]})]}),Object(s.jsx)("hr",{}),Object(s.jsxs)("p",{children:[Object(s.jsx)("b",{children:"raw score"}),": a sum of all the weights of the words in a song (positive weight == positive feeling)",Object(s.jsx)("br",{}),Object(s.jsx)("b",{children:"comparative"}),": raw score divided by total number of words in song, ranges from -5.0 to 5.0"]}),Object(s.jsx)("hr",{}),Object(s.jsx)(M,{songs:this.state.songs})]})}),Object(s.jsx)(O.a,{children:Object(s.jsx)(b.a,{children:Object(s.jsxs)(g.a,{className:"has-text-centered",children:[Object(s.jsxs)("p",{children:["built by ",Object(s.jsx)("a",{href:"https://matthewwang.me",target:"_blank",rel:"noopener noreferrer",children:"matt wang!"})," check it out on ",Object(s.jsx)("a",{href:"https://github.com/mattxwang/angery-reacts",target:"_blank",rel:"noopener noreferrer",children:"github!"})]}),Object(s.jsxs)("p",{children:["uses ",Object(s.jsx)("a",{href:"https://reactjs.org",target:"_blank",rel:"noopener noreferrer",children:"react"}),", ",Object(s.jsx)("a",{href:"https://bulma.io/",target:"_blank",rel:"noopener noreferrer",children:"bulma"}),", ",Object(s.jsx)("a",{href:"https://www.npmjs.com/package/sentiment",target:"_blank",rel:"noopener noreferrer",children:"sentiment"}),", and the ",Object(s.jsx)("a",{href:"https://docs.genius.com/",target:"_blank",rel:"noopener noreferrer",children:"genius api"})]})]})})})]})}}]),n}(r.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(Object(s.jsx)(H,{}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},65:function(e,t){},95:function(e,t,n){},96:function(e,t,n){}},[[229,1,2]]]);
//# sourceMappingURL=main.6e36aaf7.chunk.js.map