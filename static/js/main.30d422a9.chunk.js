(this["webpackJsonpangery-reacts"]=this["webpackJsonpangery-reacts"]||[]).push([[0],{108:function(e,t,a){var n={"./en/index":26};function r(e){var t=l(e);return a(t)}function l(e){if(!a.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}r.keys=function(){return Object.keys(n)},r.resolve=l,e.exports=r,r.id=108},109:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(27),s=a.n(l),o=(a(37),a(11)),i=a(12),c=a(17),u=a(14),m=a(13),h=(a(38),a(19)),g=a.n(h),p=a(16),d=a.n(p),E=a(28),f=a.n(E),y=a(8),b=a.n(y),v=a(22),S=a.n(v),w=a(29),k=a.n(w),C=a(6),j=a.n(C),O=a(10),I=a.n(O),N=a(9),L=a(15),x=a.n(L),P=a(23),T=a.n(P),_=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).handleArtistChange=function(e){n.setState({artist:e.target.value})},n.handleTitleChange=function(e){n.setState({title:e.target.value})},n.handlePlaylistChange=function(e){n.setState({playlist:e.target.value})},n.handleSongSubmit=function(){n.props.handleSongSubmit(n.state.title,n.state.artist)},n.handlePlaylistSubmit=function(){n.props.handlePlaylistSubmit(n.state.playlist)},n.renderSongSubmitButton=function(){return n.props.loading?r.a.createElement(T.a,null):r.a.createElement(x.a,{color:"success",onClick:n.handleSongSubmit},"search")},n.renderPlaylistSubmitButton=function(){return n.props.loading?r.a.createElement(T.a,null):r.a.createElement(x.a,{color:"success",onClick:n.handlePlaylistSubmit},"search")},n.state={artist:"",title:"",playlist:""},n}return Object(i.a)(a,[{key:"render",value:function(){return r.a.createElement(I.a,null,r.a.createElement(I.a.Side,{align:"left"},r.a.createElement(I.a.Item,null,r.a.createElement(N.Field,null,r.a.createElement(N.Control,null,r.a.createElement(N.Input,{placeholder:"song title",value:this.state.title,onChange:this.handleTitleChange})))),r.a.createElement(I.a.Item,null,r.a.createElement(N.Field,null,r.a.createElement(N.Control,null,r.a.createElement(N.Input,{placeholder:"artist name",value:this.state.artist,onChange:this.handleArtistChange})))),r.a.createElement(I.a.Item,null,this.renderSongSubmitButton())),r.a.createElement(I.a.Side,{align:"right"},r.a.createElement(I.a.Item,null,r.a.createElement(N.Field,null,r.a.createElement(N.Control,null,r.a.createElement(N.Input,{placeholder:"spotify playlist id",value:this.state.playlist,onChange:this.handlePlaylistChange})))),r.a.createElement(I.a.Item,null,this.renderPlaylistSubmitButton())))}}]),a}(n.Component),A=a(18),B=a.n(A),F=a(31),J=a.n(F),U=a(20),W=a.n(U),$=a(30),q=a.n($),z=a(21),D=a.n(z),G=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).createTaggedLyrics=function(){for(var e=J()(n.props.songInfo.lyrics),t=(e=(e=e.replace(/^\s+|\s+$/g,"")).split("\n").join(" <br /> ")).split(" "),a="",r=0;r<t.length;r++)n.props.songInfo.sentiment.positive.includes(t[r].toLowerCase())?a+="<span class='has-text-weight-bold has-text-success'>"+t[r]+"</span>":n.props.songInfo.sentiment.negative.includes(t[r].toLowerCase())?a+="<span class='has-text-weight-bold has-text-danger'>"+t[r]+"</span>":a+=t[r],a+=" ";return{__html:a}},n.state={showLyrics:!1,showAnalysis:!1},n}return Object(i.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement(B.a,null,r.a.createElement(D.a,null,r.a.createElement(D.a.Item,{position:"left"},r.a.createElement(q.a,{size:128,alt:"album cover!",src:this.props.songInfo.img_url})),r.a.createElement(D.a.Item,null,r.a.createElement(d.a,null,r.a.createElement(b.a,null,this.props.songInfo.title," ",r.a.createElement("span",{className:"has-text-weight-normal"},"by ",this.props.songInfo.artist)),r.a.createElement(j.a.Group,null,0===this.props.songInfo.sentiment.score?r.a.createElement(j.a,{className:"is-large"},"neutral vibes"):this.props.songInfo.sentiment.score>0?r.a.createElement(j.a,{color:"success"},"good vibes"):r.a.createElement(j.a,{color:"danger"},"angery/sad reacts"),r.a.createElement(j.a,null,r.a.createElement("span",null,"comparative:"),r.a.createElement("strong",null,this.props.songInfo.sentiment.comparative.toFixed(4))),r.a.createElement(j.a,null,r.a.createElement("span",null,"raw score:"),r.a.createElement("strong",null,this.props.songInfo.sentiment.score)))),r.a.createElement(x.a,{onClick:function(){return e.setState({showLyrics:!e.state.showLyrics})}},"show lyrics")," ",r.a.createElement(x.a,{onClick:function(){return e.setState({showAnalysis:!e.state.showAnalysis})}},"show analysis"),r.a.createElement(d.a,null,r.a.createElement(W.a,null,this.state.showLyrics&&r.a.createElement(W.a.Column,{className:"display-linebreak"},r.a.createElement("hr",null),r.a.createElement(b.a,{subtitle:!0},"Lyrics"),r.a.createElement("div",null,this.props.songInfo.lyrics.replace(/^\s+|\s+$/g,""))),this.state.showAnalysis&&r.a.createElement(W.a.Column,null,r.a.createElement("hr",null),r.a.createElement(b.a,{subtitle:!0},"Analysis"),r.a.createElement("div",{dangerouslySetInnerHTML:this.createTaggedLyrics()})))))))}}]),a}(n.Component),M=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){return 0===this.props.songs.length?r.a.createElement(b.a,{className:"has-text-centered",style:{marginTop:"1em",marginBottom:"1em"}},"it's empty. why not search something?"):r.a.createElement("div",null,this.props.songs.map((function(e,t){return"error"in e?r.a.createElement(B.a,null,"Couldn't find song :("):r.a.createElement(G,{songInfo:e,key:t})})))}}]),a}(n.Component),R=new(a(100)),H=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).addSong=function(e){var t=R.analyze(e.lyrics.toLowercase());e.sentiment=t;var a=n.state.songs;a.unshift(e),n.setState({songs:a,error:"",score:n.state.score+t.score,tokens:n.state.tokens+t.tokens.length})},n.handlePlaylistSubmit=function(e){n.setState({loading:!0});var t={playlist:e},a="https://angery-reacts-api.herokuapp.com/playlist";void 0!==a&&null!==a||(console.log("Error: couldn't get server URL. Will default to matt's instance."),a="https://angery-reacts-api.herokuapp.com/playlist"),fetch(a,{method:"POST",body:JSON.stringify(t),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){"error"in e?n.setState({error:e.error}):e.songs.forEach(function(e){this.addSong(e)}.bind(Object(c.a)(n))),n.setState({loading:!1})})).catch((function(e){console.error("Error:",e),n.setState({error:"error making request!"}),n.setState({loading:!1})}))},n.handleSongSubmit=function(e,t){n.setState({loading:!0});var a={title:e,artist:t},r="https://angery-reacts-api.herokuapp.com/lyrics";void 0!==r&&null!==r||(console.log("Error: couldn't get server URL. Will default to matt's instance."),r="https://angery-reacts-api.herokuapp.com/lyrics"),fetch(r,{method:"POST",body:JSON.stringify(a),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){"song not found!"!==e.error?n.addSong(e):n.setState({error:"song not found, check your spelling!"}),n.setState({loading:!1})})).catch((function(e){console.error("Error:",e),n.setState({error:"error making request!"}),n.setState({loading:!1})}))},n.state={loading:!1,error:"",songs:[],score:0,tokens:0},n}return Object(i.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"App"},r.a.createElement(S.a,{color:"info"},r.a.createElement(S.a.Body,null,r.a.createElement(g.a,null,r.a.createElement(b.a,null,r.a.createElement("span",{role:"img","aria-label":"angry react!"},"\ud83d\ude21")," angery reacts"),r.a.createElement(b.a,{subtitle:!0},"figure out how positive/negative your music library is")))),r.a.createElement(k.a,null,r.a.createElement(g.a,null,r.a.createElement(_,{loading:this.state.loading,handleSongSubmit:function(t,a){return e.handleSongSubmit(t,a)},handlePlaylistSubmit:function(t){return e.handlePlaylistSubmit(t)}}),r.a.createElement(b.a,{subtitle:!0,className:"has-text-danger"},this.state.error),r.a.createElement("hr",null),r.a.createElement(j.a.Group,null,0===this.state.score?r.a.createElement(j.a,{className:"is-large"},"neutral vibes"):this.state.score>0?r.a.createElement(j.a,{className:"is-large",color:"success"},"good vibes"):r.a.createElement(j.a,{className:"is-large",color:"danger"},"angery/sad reacts"),r.a.createElement(j.a,{className:"is-large"},r.a.createElement("span",null,"comparative:"),r.a.createElement("strong",null,0===this.state.tokens?0:(this.state.score/this.state.tokens).toFixed(4))),r.a.createElement(j.a,{className:"is-large"},r.a.createElement("span",null,"raw score:"),r.a.createElement("strong",null,this.state.score))),r.a.createElement("hr",null),r.a.createElement("p",null,r.a.createElement("b",null,"raw score"),": a sum of all the weights of the words in a song (positive weight == positive feeling)",r.a.createElement("br",null),r.a.createElement("b",null,"comparative"),": raw score divided by total number of words in song, ranges from -5.0 to 5.0"),r.a.createElement("hr",null),r.a.createElement(M,{songs:this.state.songs}))),r.a.createElement(f.a,null,r.a.createElement(g.a,null,r.a.createElement(d.a,{className:"has-text-centered"},r.a.createElement("p",null,"built by ",r.a.createElement("a",{href:"https://matthewwang.me",target:"_blank",rel:"noopener noreferrer"},"matt wang!")," check it out on ",r.a.createElement("a",{href:"https://github.com/malsf21/angery-reacts",target:"_blank",rel:"noopener noreferrer"},"github!")),r.a.createElement("p",null,"uses ",r.a.createElement("a",{href:"https://reactjs.org",target:"_blank",rel:"noopener noreferrer"},"react"),", ",r.a.createElement("a",{href:"https://bulma.io/",target:"_blank",rel:"noopener noreferrer"},"bulma"),", ",r.a.createElement("a",{href:"https://www.npmjs.com/package/sentiment",target:"_blank",rel:"noopener noreferrer"},"sentiment"),", and the ",r.a.createElement("a",{href:"https://docs.genius.com/",target:"_blank",rel:"noopener noreferrer"},"genius api"))))))}}]),a}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(H,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},32:function(e,t,a){e.exports=a(109)},37:function(e,t,a){},38:function(e,t,a){}},[[32,1,2]]]);
//# sourceMappingURL=main.30d422a9.chunk.js.map